<h1>Creation of new revision</h1>
<form name="form" novalidate class="form-horizontal">


    <h3 ng-if="!showMachines">Revision for {{machine}}</h3>

    <div class="form-group" ng-if="showMachines">
        <label for="machine" class="col-sm-2 control-label">Machine</label>
        <div class="col-sm-10">
            <select id="machine" class="form-control" ng-model="revision.machine" convert-to-int>
                <option ng-repeat="machine in machines" value="{{machine.id}}">{{machine.name}}</option>
            </select>
            <p class="help-block" ng-show="form.name.$error.required">name is required</p>
        </div>
    </div>

    <div class="form-group" >
        <label for="date" class="col-sm-2 control-label">Date</label>
        <div class="col-sm-10">
            <input type="date" id="date" name="date" ng-model="revision.date">
        </div>
    </div>
    <div class="form-group" >
        <label for="result" class="col-sm-2 control-label">Passed</label>
        <div class="col-sm-10">
            <input type="checkbox" id="result" name="result" ng-model="revision.result">
        </div>
    </div>
</div>

    <!-- show disabled button if form is not valid -->
    <button ng-disabled="!form.$valid" class="btn btn-primary" type="submit" ng-click="create(revision)">Create revision
    </button>
</form>
